% flow model - combSum(L, K, S, C)
combSum([H|_], 1, H, [H]).
combSum([_|T], K, S, C):-
    combSum(T, K, S, C).
combSum([H|T], K, S, [H|C]):-
    H>0,
    S1 is S-H,
    S1>0,
    K1 is K-1,
    combSum(T, K1, S1, C).

allCombSums(L, K, S, C):-
    findall(X, combSum(L, K, S, X), C).

Run:
allCombSums([3, 2, 7, 5, 1, 6], 3, 9, C).